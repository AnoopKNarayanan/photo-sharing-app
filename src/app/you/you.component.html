<ng-container class="d-flex justify-content-center" *ngIf="loading$ | async">
    <div class="overlay"></div>
    <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
    </div>
</ng-container>
<div *ngIf="photos$ | async as photos">
    <div class="cover-container w-100 d-flex">
        <div class="cover-photo w-100"></div>
        <div class="cover-photo-gradient"></div>
        <div class="container d-flex align-items-end mb-3">
            <div class="avatar-container me-3">
                <div class="avatar">

                </div>
            </div>
            <div class="personal-details">
                <h1 class="text-capitalize">{{photos.user.name}}</h1>
                <p class="email">{{photos.user.email}}</p>
            </div>
            <div class="other-container ms-auto me-4 d-flex gap-4">
                <p>{{photos.user.photos.length}} Photos</p>
                <p>Joined {{photos.user.createdAt | date:'yyyy'}}</p>
            </div>
        </div>
    </div>
    <div class="container mt-5">
        <h1 class="title mb-3">Your uploads</h1>
        <div class="row my-photos">
            <div class="col-lg-4 col-md-6 col-sm-6 mb-3" *ngFor="let photo of photos.user.photos">
                <div class="d-flex photo-wrapper">
                    <img src="data:{{photo.mimetype}};base64,{{photo.data}}" class="card-img-top" style="min-height: 19rem; max-height: 19rem;">
                    <div class="photo-details ms-3 d-flex w-100">
                        <div>{{photo.name}}</div>
                        <div class="ms-auto">
                            <button class="border-0 p-0 bg-transparent me-4 pb-3" (click)="deletePhoto(photo._id)">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256" width="30px" height="30px" fill-rule="nonzero">
                                    <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal">
                                        <g transform="scale(8.53333,8.53333)">
                                            <path d="M14.98438,2.48633c-0.55152,0.00862 -0.99193,0.46214 -0.98437,1.01367v0.5h-5.5c-0.26757,-0.00363 -0.52543,0.10012 -0.71593,0.28805c-0.1905,0.18793 -0.29774,0.44436 -0.29774,0.71195h-1.48633c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h18c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-1.48633c0,-0.26759 -0.10724,-0.52403 -0.29774,-0.71195c-0.1905,-0.18793 -0.44836,-0.29168 -0.71593,-0.28805h-5.5v-0.5c0.0037,-0.2703 -0.10218,-0.53059 -0.29351,-0.72155c-0.19133,-0.19097 -0.45182,-0.29634 -0.72212,-0.29212zM6,9l1.79297,15.23438c0.118,1.007 0.97037,1.76563 1.98438,1.76563h10.44531c1.014,0 1.86538,-0.75862 1.98438,-1.76562l1.79297,-15.23437z">
                                            </path>
                                        </g>
                                    </g>
                                </svg>
                            </button>
                        </div>                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

